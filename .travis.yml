language: python
python:
    - '2.7'

#command to install dependencies
install:
  - pip install -r requirements.txt
  - pip install pytest pytest-cov
  - pip install coveralls pep8
  - pip install .

#command to run tests
script:
  - python setup.py install
  - pep8 pydefm
  - py.test --cov-config .coveragerc --cov=pydefm pydefm/tests/ --cov-report term-missing

after_success:
  - coveralls
